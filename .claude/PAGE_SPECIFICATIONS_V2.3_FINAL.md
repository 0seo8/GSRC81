# GSRC81 Maps ìµœì¢… í†µí•© ê¸°íšì„œ v2.3 (2025 Q4)

## ğŸ“‹ ë¬¸ì„œ ê°œìš”

**í…Œë§ˆ**: "ì£¼í–‰ + ëŒ“ê¸€ + ì‚¬ì§„ = ì°¸ì—¬í˜• ëŸ¬ë„ˆ ì»¤ë®¤ë‹ˆí‹° ì§€ë„"

ë³¸ ë¬¸ì„œëŠ” GSRC81 Mapsì˜ **ìµœì¢… ì™„ì„±í˜• ê¸°íšì„œ**ë¡œ, ë‹¤ìŒ í•µì‹¬ ê¸°ëŠ¥ë“¤ì„ í†µí•©í•©ë‹ˆë‹¤:
- âœˆï¸ **ë¹„í–‰ëª¨ë“œ**: ìë™ ê²½ë¡œ ì¬ìƒ + ì¹´ë©”ë¼ ì¶”ì 
- ğŸ’¬ **ì›¨ì´í¬ì¸íŠ¸ ëŒ“ê¸€**: ì§€ì ë³„ ì‹¤ì‹œê°„ ëŒ“ê¸€ ì‹œìŠ¤í…œ
- ğŸ“· **ì½”ìŠ¤ë³„ ì‚¬ì§„ ì—…ë¡œë“œ**: ëŸ¬ë„ˆ ì»¤ë®¤ë‹ˆí‹° ì‚¬ì§„ ê³µìœ 
- ğŸ—ºï¸ **í†µí•© ì§€ë„ ë§ˆì»¤**: ëŒ“ê¸€/ì‚¬ì§„/í˜„ì¬ìœ„ì¹˜ ë™ì‹œ í‘œì‹œ

---

## ğŸ“± 1. ì‚¬ìš©ì í˜ì´ì§€ (ì™„ì „íŒ)

### 1.1 ëœë”©/ë¡œê·¸ì¸ í˜ì´ì§€ (`/`)

#### ğŸ“ í˜ì´ì§€ ê°œìš”
- **ëª©ì **: ì•± ì²« ì§„ì…ì , ë¹„ë°€ë²ˆí˜¸ ì¸ì¦
- **ê²½ë¡œ**: `/`
- **ì»´í¬ë„ŒíŠ¸**: `src/app/page.tsx`
- **ì¸ì¦**: ë¶ˆí•„ìš” (ê³µê°œ)

#### ğŸ¨ UI êµ¬ì„±
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              GSRC81 MAPS            â”‚
â”‚         êµ¬íŒŒë°œ ëŸ¬ë„ˆ ë§¤í¼              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚    ğŸ” ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”           â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚    â”‚ [Password Input Field]  â”‚     â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚    â”‚    [ë¡œê·¸ì¸ ë²„íŠ¼]           â”‚     â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                     â”‚
â”‚    ğŸ’¡ GSRC81 í¬ë£¨ì›ë§Œ ì´ìš© ê°€ëŠ¥       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ğŸ”§ ê¸°ëŠ¥ ëª…ì„¸
| ê¸°ëŠ¥ | ì„¤ëª… | ìš°ì„ ìˆœìœ„ |
|------|------|----------|
| ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ | access_links í…Œì´ë¸” ê¸°ë°˜ ì¸ì¦ | P0 |
| ìë™ ë¦¬ë‹¤ì´ë ‰íŠ¸ | ì¸ì¦ ì„±ê³µ ì‹œ `/map`ìœ¼ë¡œ ì´ë™ | P0 |
| ë¡œë”© ìƒíƒœ | ì¸ì¦ í™•ì¸ ì¤‘ ìŠ¤í”¼ë„ˆ í‘œì‹œ | P1 |
| ì—ëŸ¬ ì²˜ë¦¬ | ì˜ëª»ëœ ë¹„ë°€ë²ˆí˜¸ ì—ëŸ¬ ë©”ì‹œì§€ | P1 |

---

### 1.2 ë©”ì¸ ì§€ë„ í˜ì´ì§€ (`/map`)

#### ğŸ“ í˜ì´ì§€ ê°œìš”
- **ëª©ì **: ì „ì²´ ëŸ¬ë‹ ì½”ìŠ¤ ì§€ë„ í‘œì‹œ ë° íƒìƒ‰
- **ê²½ë¡œ**: `/map`
- **ì»´í¬ë„ŒíŠ¸**: `src/app/map/page.tsx`
- **ì¸ì¦**: í•„ìˆ˜ (ProtectedRoute)

#### ğŸ¨ UI êµ¬ì„±
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [í˜„ì¬ìœ„ì¹˜] [í•„í„°] [ì„¤ì •]  [ë¡œê·¸ì•„ì›ƒ]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚        ğŸ—ºï¸ Mapbox ì§€ë„ ì˜ì—­           â”‚
â”‚                                     â”‚
â”‚    ğŸ”µğŸŸ¢ğŸ”´ ì½”ìŠ¤ ë§ˆì»¤ë“¤                 â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚     ğŸ“‹ í•˜ë‹¨ ë“œë¡œì›Œ (ì½”ìŠ¤ ë¦¬ìŠ¤íŠ¸)   â”‚ â”‚
â”‚ â”‚                                 â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”       â”‚ â”‚
â”‚ â”‚ â”‚ì½”ìŠ¤1â”‚ â”‚ì½”ìŠ¤2â”‚ â”‚ì½”ìŠ¤3â”‚  ...   â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ğŸ”§ ê¸°ëŠ¥ ëª…ì„¸
| ê¸°ëŠ¥ | ì„¤ëª… | ìš°ì„ ìˆœìœ„ |
|------|------|----------|
| ì§€ë„ í‘œì‹œ | Mapbox GL ê¸°ë°˜ ì€í‰êµ¬ ì¤‘ì‹¬ ì§€ë„ | P0 |
| ì½”ìŠ¤ ë§ˆì»¤ | ì‹œì‘ì ë³„ ì»¬ëŸ¬ ì½”ë”© ë§ˆì»¤ í‘œì‹œ | P0 |
| ë“œë¡œì›Œ UI | í•˜ë‹¨ ìŠ¬ë¼ì´ë“œì—… ì½”ìŠ¤ ë¦¬ìŠ¤íŠ¸ | P0 |
| í•„í„°ë§ | ê±°ë¦¬ë³„/ë‚œì´ë„ë³„ ì½”ìŠ¤ í•„í„° | P1 |
| í˜„ì¬ ìœ„ì¹˜ | GPS ê¸°ë°˜ ì‚¬ìš©ì ìœ„ì¹˜ í‘œì‹œ | P1 |
| í´ëŸ¬ìŠ¤í„°ë§ | í™•ëŒ€ ì‹œ ë§ˆì»¤ ê·¸ë£¹í™” | P2 |

---

### 1.3 ì½”ìŠ¤ ìƒì„¸ í˜ì´ì§€ (`/courses/[id]`) - v2.3 ì™„ì „íŒ

#### ğŸ“ í˜ì´ì§€ ê°œìš”
- **ëª©ì **: ê°œë³„ ì½”ìŠ¤ì˜ ìƒì„¸ ì •ë³´, GPX ê²½ë¡œ, ëŒ“ê¸€, ì‚¬ì§„ í†µí•© í‘œì‹œ
- **ê²½ë¡œ**: `/courses/[id]`
- **ì»´í¬ë„ŒíŠ¸**: `src/app/courses/[id]/page.tsx`
- **ì¸ì¦**: í•„ìˆ˜ (ProtectedRoute)

#### ğŸ¨ UI êµ¬ì„± (v2.3 ìµœì¢…)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â†ë’¤ë¡œ] ë¶ˆê´‘ì²œ ë”°ë¼ ë‹¬ë¦¬ê¸° [â¤ï¸] [ğŸ“¤]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“Š 4.2km â€¢ 35ë¶„ â€¢ â­â­ ì¤‘ê¸‰ â€¢ ğŸš‡êµ¬íŒŒë°œ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚        ğŸ—ºï¸ GPX ê²½ë¡œ ì§€ë„              â”‚
â”‚     âœˆï¸ ë¹„í–‰ëª¨ë“œ + ğŸ’¬ ëŒ“ê¸€ + ğŸ“· ì‚¬ì§„    â”‚
â”‚                                     â”‚
â”‚ ë§ˆì»¤ ë²”ë¡€:                           â”‚
â”‚ ğŸ”µ í˜„ì¬ìœ„ì¹˜  ğŸ’¬ ëŒ“ê¸€ìˆìŒ  ğŸ“· ì‚¬ì§„ìˆìŒ   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€ ë¹„í–‰ëª¨ë“œ ì»¨íŠ¸ë¡¤ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ [âœˆï¸] [â¸ï¸] [2x] [â”â”â”â—â”€â”€] [ğŸ“¹] [ğŸ”„] â”‚ â”‚
â”‚ â”‚  í† ê¸€ ì¼ì‹œì •ì§€ ì†ë„  ì§„í–‰ë¥ ë°” ì¹´ë©”ë¼ ë¦¬ì…‹â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“· ì½”ìŠ¤ ì‚¬ì§„ (8) [+ ì‚¬ì§„ ì¶”ê°€]        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ğŸ–¼ï¸ 1 â”‚ ğŸ–¼ï¸ 2 â”‚ ğŸ–¼ï¸ 3 â”‚ ğŸ–¼ï¸ 4   â”‚   â”‚
â”‚ â”‚  ì¸ë„¤ì¼ ê°¤ëŸ¬ë¦¬ (ê°€ë¡œ ìŠ¤í¬ë¡¤)       â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ’¬ ëŒ“ê¸€ (5)                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ğŸ‘¤ ê¹€ëŸ¬ë„ˆ: ì—¬ê¸° ì „ë§ ì¢‹ì•„ìš”! ğŸ“·     â”‚   â”‚
â”‚ â”‚ ğŸ‘‘ ê´€ë¦¬ì: ì‹ í˜¸ë“± ì¡°ì‹¬í•˜ì„¸ìš”        â”‚   â”‚
â”‚ â”‚ ğŸ‘¤ ë°•ëŸ¬ë„ˆ: ê²½ì‚¬ê°€ ì¢€ ìˆì–´ìš”         â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ğŸ”§ í•µì‹¬ ê¸°ëŠ¥ ëª…ì„¸ (v2.3 ì™„ì „íŒ)

##### âœˆï¸ ë¹„í–‰ëª¨ë“œ (Flight Mode)
```typescript
interface FlightModeState {
  isActive: boolean;         // ë¹„í–‰ëª¨ë“œ í™œì„±í™”
  isPaused: boolean;         // ì¼ì‹œì •ì§€ ìƒíƒœ
  speed: number;             // ì¬ìƒ ì†ë„ (0.5x, 1x, 2x, 3x)
  progress: number;          // ì§„í–‰ë¥  (0-100%)
  currentPointIndex: number; // í˜„ì¬ í¬ì¸íŠ¸ ì¸ë±ìŠ¤
  
  // v2.3 ê°•í™”ëœ ê¸°ëŠ¥
  cameraTracking: {
    enabled: boolean;        // ì¹´ë©”ë¼ ìë™ ì¶”ì 
    followDistance: number;  // ì¶”ì  ê±°ë¦¬ (50m)
    tilt: number;           // ì¹´ë©”ë¼ ê¸°ìš¸ê¸° (60ë„)
    bearing: number;        // ì¹´ë©”ë¼ ë°©í–¥ (ìë™ ê³„ì‚°)
  };
  
  // ì£¼í–‰ ì¤‘ ë§ˆì»¤ í•˜ì´ë¼ì´íŠ¸
  nearbyItems: {
    comments: WaypointComment[];  // ê·¼ì²˜ 5ê°œ í¬ì¸íŠ¸ ë‚´ ëŒ“ê¸€
    photos: CoursePhoto[];        // ê·¼ì²˜ 5ê°œ í¬ì¸íŠ¸ ë‚´ ì‚¬ì§„
  };
}
```

**ë¹„í–‰ëª¨ë“œ ì¤‘ ìƒí˜¸ì‘ìš©**:
1. **ëŒ“ê¸€ ë§ˆì»¤ ì ‘ê·¼**: ğŸ’¬ ë§ˆì»¤ê°€ í™•ëŒ€ë˜ë©° í•˜ë‹¨ ëŒ“ê¸€ ë¦¬ìŠ¤íŠ¸ì—ì„œ í•´ë‹¹ ëŒ“ê¸€ í•˜ì´ë¼ì´íŠ¸
2. **ì‚¬ì§„ ë§ˆì»¤ ì ‘ê·¼**: ğŸ“· ë§ˆì»¤ê°€ í™•ëŒ€ë˜ë©° ì¸ë„¤ì¼ ë¯¸ë¦¬ë³´ê¸° í‘œì‹œ
3. **ì§„í–‰ë¥  ë°” í´ë¦­**: íŠ¹ì • ì§€ì ìœ¼ë¡œ ì¦‰ì‹œ ì´ë™
4. **ì¹´ë©”ë¼ ì¶”ì **: ì§„í–‰ ë°©í–¥ì„ ìë™ìœ¼ë¡œ ë°”ë¼ë³´ë©° ë¶€ë“œëŸ½ê²Œ ì´ë™

##### ğŸ’¬ ì›¨ì´í¬ì¸íŠ¸ ëŒ“ê¸€ ì‹œìŠ¤í…œ
```typescript
interface WaypointComment {
  id: string;
  course_id: string;
  point_index: number;       // GPX points ë°°ì—´ ì¸ë±ìŠ¤
  lat: number;               // ì •í™•í•œ ëŒ“ê¸€ ìœ„ì¹˜
  lng: number;
  user_id: string;
  username: string;
  content: string;           // ìµœëŒ€ 500ì
  is_admin_comment: boolean;
  created_at: string;
  
  // v2.3 ì¶”ê°€: ì‚¬ì§„ê³¼ì˜ ì—°ê´€ì„±
  related_photo_id?: string; // ê°™ì€ ì§€ì ì˜ ì‚¬ì§„ ID
}
```

**ëŒ“ê¸€ ì‘ì„± í”Œë¡œìš°**:
1. **ì¼ë°˜ ëª¨ë“œ**: ì§€ë„ í´ë¦­ â†’ íŒì—… â†’ ëŒ“ê¸€ ì‘ì„±
2. **ë¹„í–‰ëª¨ë“œ ì¤‘**: ì¼ì‹œì •ì§€ â†’ í˜„ì¬ ì§€ì ì— ëŒ“ê¸€ ì‘ì„±
3. **ì‹¤ì‹œê°„ ë°˜ì˜**: Supabase Realtimeìœ¼ë¡œ ì¦‰ì‹œ ë‹¤ë¥¸ ì‚¬ìš©ìì—ê²Œ í‘œì‹œ

##### ğŸ“· ì½”ìŠ¤ë³„ ì‚¬ì§„ ì—…ë¡œë“œ (v2.3 ì‹ ê·œ)
```typescript
interface CoursePhoto {
  id: string;
  course_id: string;
  user_id: string;
  username: string;
  point_index: number;       // GPX points ë°°ì—´ ì¸ë±ìŠ¤
  lat: number;
  lng: number;
  image_url: string;         // Supabase Storage URL
  thumbnail_url: string;     // ì¸ë„¤ì¼ URL (ìë™ ìƒì„±)
  description?: string;      // ì‚¬ì§„ ì„¤ëª… (ìµœëŒ€ 200ì)
  is_active: boolean;        // ê´€ë¦¬ì ìŠ¹ì¸ í›„ true
  created_at: string;
  
  // ë©”íƒ€ë°ì´í„°
  file_size: number;         // íŒŒì¼ í¬ê¸° (bytes)
  image_width: number;       // ì›ë³¸ ì´ë¯¸ì§€ í¬ê¸°
  image_height: number;
  exif_data?: any;           // EXIF ì •ë³´ (GPS, ì´¬ì˜ì‹œê°„ ë“±)
}
```

**ì‚¬ì§„ ì—…ë¡œë“œ í”Œë¡œìš°**:
```typescript
// 1. íŒŒì¼ ì—…ë¡œë“œ (Supabase Storage)
const uploadPhoto = async (file: File, courseId: string, pointIndex: number) => {
  // ì´ë¯¸ì§€ ìµœì í™” (WebP ë³€í™˜, ë¦¬ì‚¬ì´ì§•)
  const optimizedFile = await optimizeImage(file);
  const thumbnailFile = await createThumbnail(file, 200, 200);
  
  // Storage ì—…ë¡œë“œ
  const imagePath = `course_photos/${courseId}/${userId}_${timestamp}.webp`;
  const thumbnailPath = `course_photos/${courseId}/thumbs/${userId}_${timestamp}_thumb.webp`;
  
  await Promise.all([
    supabase.storage.from('course_photos').upload(imagePath, optimizedFile),
    supabase.storage.from('course_photos').upload(thumbnailPath, thumbnailFile)
  ]);
  
  // DB ì €ì¥ (ìŠ¹ì¸ ëŒ€ê¸° ìƒíƒœ)
  await supabase.from('course_photos_v2').insert({
    course_id: courseId,
    point_index: pointIndex,
    lat: currentPoint.lat,
    lng: currentPoint.lng,
    image_url: getPublicURL(imagePath),
    thumbnail_url: getPublicURL(thumbnailPath),
    description: description,
    user_id: userId,
    username: currentUser.username,
    is_active: false,  // ê´€ë¦¬ì ìŠ¹ì¸ í•„ìš”
    file_size: optimizedFile.size,
    image_width: originalWidth,
    image_height: originalHeight
  });
};
```

#### ğŸ—ºï¸ í†µí•© ì§€ë„ ë§ˆì»¤ ì‹œìŠ¤í…œ
```typescript
// ì§€ë„ ë ˆì´ì–´ êµ¬ì„±
const mapLayers = {
  'route-layer': {           // GPX ê²½ë¡œ ë¼ì¸
    type: 'line',
    color: '#FF6B35',
    width: 4
  },
  'current-position': {      // í˜„ì¬ ìœ„ì¹˜ (ë¹„í–‰ëª¨ë“œ)
    type: 'symbol',
    icon: 'âœˆï¸',
    size: 1.5
  },
  'comments-layer': {        // ëŒ“ê¸€ ë§ˆì»¤
    type: 'symbol',
    icon: 'ğŸ’¬',
    color: '#FFA500',
    size: 1.2
  },
  'photos-layer': {          // ì‚¬ì§„ ë§ˆì»¤
    type: 'symbol',
    icon: 'ğŸ“·',
    color: '#4A90E2',
    size: 1.2
  },
  'start-finish': {          // ì‹œì‘/ë ë§ˆì»¤
    type: 'symbol',
    icon: ['ğŸ', 'ğŸƒâ€â™‚ï¸'],
    size: 1.0
  }
};

// ë§ˆì»¤ í´ë¦­ ì´ë²¤íŠ¸ ì²˜ë¦¬
const handleMarkerClick = (markerType: string, markerId: string) => {
  switch (markerType) {
    case 'comment':
      // ëŒ“ê¸€ íŒì—… í‘œì‹œ + í•˜ë‹¨ ëŒ“ê¸€ ë¦¬ìŠ¤íŠ¸ ìŠ¤í¬ë¡¤
      showCommentPopup(markerId);
      scrollToComment(markerId);
      break;
    case 'photo':
      // ì‚¬ì§„ í™•ëŒ€ ë³´ê¸° + ê°¤ëŸ¬ë¦¬ì—ì„œ í•´ë‹¹ ì‚¬ì§„ í•˜ì´ë¼ì´íŠ¸
      showPhotoModal(markerId);
      highlightPhotoInGallery(markerId);
      break;
  }
};
```

#### ğŸ“± ì‹¤ì‹œê°„ ë™ê¸°í™” ì‹œìŠ¤í…œ
```typescript
// Supabase Realtime êµ¬ë… ì„¤ì •
const setupRealtimeSubscription = (courseId: string) => {
  // ëŒ“ê¸€ ì‹¤ì‹œê°„ êµ¬ë…
  const commentsChannel = supabase
    .channel(`course_comments:${courseId}`)
    .on('postgres_changes', {
      event: '*',
      schema: 'public',
      table: 'course_comments_v2',
      filter: `course_id=eq.${courseId}`
    }, handleCommentChange);
  
  // ì‚¬ì§„ ì‹¤ì‹œê°„ êµ¬ë… (ìŠ¹ì¸ëœ ì‚¬ì§„ë§Œ)
  const photosChannel = supabase
    .channel(`course_photos:${courseId}`)
    .on('postgres_changes', {
      event: '*',
      schema: 'public',
      table: 'course_photos_v2',
      filter: `course_id=eq.${courseId} AND is_active=eq.true`
    }, handlePhotoChange);
  
  return () => {
    commentsChannel.unsubscribe();
    photosChannel.unsubscribe();
  };
};

// ì‹¤ì‹œê°„ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
const handleCommentChange = (payload: any) => {
  switch (payload.eventType) {
    case 'INSERT':
      addCommentToMap(payload.new);
      addCommentToList(payload.new);
      showNotification(`ìƒˆ ëŒ“ê¸€: ${payload.new.content.substring(0, 20)}...`);
      break;
    case 'DELETE':
      removeCommentFromMap(payload.old.id);
      removeCommentFromList(payload.old.id);
      break;
  }
};

const handlePhotoChange = (payload: any) => {
  switch (payload.eventType) {
    case 'INSERT':
      if (payload.new.is_active) {  // ìŠ¹ì¸ëœ ì‚¬ì§„ë§Œ
        addPhotoToMap(payload.new);
        addPhotoToGallery(payload.new);
        showNotification(`ìƒˆ ì‚¬ì§„ì´ ì—…ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤`);
      }
      break;
    case 'UPDATE':
      if (payload.new.is_active && !payload.old.is_active) {
        // ìŠ¹ì¸ëœ ê²½ìš°
        addPhotoToMap(payload.new);
        addPhotoToGallery(payload.new);
      }
      break;
    case 'DELETE':
      removePhotoFromMap(payload.old.id);
      removePhotoFromGallery(payload.old.id);
      break;
  }
};
```

---

## ğŸ› ï¸ 2. ê´€ë¦¬ì í˜ì´ì§€ (ì™„ì „íŒ)

### 2.1 ê´€ë¦¬ì ë¡œê·¸ì¸ (`/admin/login`)

#### ğŸ“ í˜ì´ì§€ ê°œìš”
- **ëª©ì **: ê´€ë¦¬ì ì „ìš© ë¡œê·¸ì¸
- **ê²½ë¡œ**: `/admin/login`
- **ì»´í¬ë„ŒíŠ¸**: `src/app/admin/login/page.tsx`
- **ì¸ì¦**: ë¶ˆí•„ìš” (ê³µê°œ)

#### ğŸ¨ UI êµ¬ì„±
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ğŸ›¡ï¸ ê´€ë¦¬ì ë¡œê·¸ì¸             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚    â”‚     ì•„ì´ë””                   â”‚   â”‚
â”‚    â”‚ [Username Input]            â”‚   â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚    â”‚     ë¹„ë°€ë²ˆí˜¸                 â”‚   â”‚
â”‚    â”‚ [Password Input]            â”‚   â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚    â”‚      [ë¡œê·¸ì¸]                â”‚   â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚    ğŸ’¡ ê´€ë¦¬ìë§Œ ì ‘ê·¼ ê°€ëŠ¥í•œ ì˜ì—­ì…ë‹ˆë‹¤   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2.2 ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ (`/admin`)

#### ğŸ“ í˜ì´ì§€ ê°œìš”
- **ëª©ì **: ê´€ë¦¬ì ë©”ì¸ í™”ë©´, í†µê³„ ë° ë¹ ë¥¸ ì‘ì—…
- **ê²½ë¡œ**: `/admin`
- **ì»´í¬ë„ŒíŠ¸**: `src/app/admin/page.tsx`
- **ì¸ì¦**: ê´€ë¦¬ì í•„ìˆ˜ (ProtectedAdminRoute)

#### ğŸ¨ UI êµ¬ì„± (v2.3 ê°•í™”)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š GSRC81 Maps ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€í†µê³„â”€â”€â” â”Œâ”€â”€í†µê³„â”€â”€â” â”Œâ”€â”€í†µê³„â”€â”€â”   â”‚
â”‚ â”‚ğŸ—ºï¸ ì´ì½”ìŠ¤â”‚ â”‚ğŸ’¬ ëŒ“ê¸€ìˆ˜â”‚ â”‚ğŸ“· ì‚¬ì§„ìˆ˜â”‚   â”‚
â”‚ â”‚   12   â”‚ â”‚   45   â”‚ â”‚   28   â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ âš ï¸ ìŠ¹ì¸ ëŒ€ê¸° (3)                 â”‚ â”‚
â”‚ â”‚ â€¢ ğŸ“· ì‚¬ì§„ ìŠ¹ì¸ ëŒ€ê¸° (2)           â”‚ â”‚
â”‚ â”‚ â€¢ ğŸ’¬ ì‹ ê³ ëœ ëŒ“ê¸€ (1)             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€ ë¹ ë¥¸ ì‘ì—… â”€â”€â”€â” â”Œâ”€ ìµœê·¼ í™œë™ â”€â” â”‚
â”‚ â”‚ â• ìƒˆ ì½”ìŠ¤ ë“±ë¡  â”‚ â”‚ ğŸ“· ê¹€ëŸ¬ë„ˆ ì‚¬ì§„ â”‚ â”‚
â”‚ â”‚ âœï¸ ì½”ìŠ¤ ê´€ë¦¬    â”‚ â”‚ ğŸ’¬ ë°•ëŸ¬ë„ˆ ëŒ“ê¸€ â”‚ â”‚
â”‚ â”‚ ğŸ”’ ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ â”‚ â”‚ ğŸƒ ì™„ì£¼ ì¸ì¦   â”‚ â”‚
â”‚ â”‚ âš™ï¸ ì‹œìŠ¤í…œ ì„¤ì •   â”‚ â”‚      ...    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ğŸ“Š ì‹¤ì‹œê°„ í†µê³„ (v2.3 í™•ì¥)
```typescript
interface AdminDashboardStats {
  // ê¸°ë³¸ í†µê³„
  totalCourses: number;
  totalComments: number;
  totalPhotos: number;         // ì‹ ê·œ ì¶”ê°€
  activeUsers: number;
  
  // ìŠ¹ì¸ ëŒ€ê¸° í†µê³„
  pendingApprovals: {
    photos: number;            // ìŠ¹ì¸ ëŒ€ê¸° ì‚¬ì§„
    reportedComments: number;  // ì‹ ê³ ëœ ëŒ“ê¸€
    reportedPhotos: number;    // ì‹ ê³ ëœ ì‚¬ì§„
  };
  
  // í™œë™ í†µê³„
  todayActivity: {
    newCourses: number;
    newComments: number;
    newPhotos: number;
    newUsers: number;
  };
  
  // ì¸ê¸°ë„ í†µê³„
  popularContent: {
    mostViewedCourse: Course;
    mostCommentedCourse: Course;
    mostPhotographedCourse: Course;  // ì‹ ê·œ ì¶”ê°€
  };
}
```

---

### 2.3 ì½”ìŠ¤ ê´€ë¦¬ í˜ì´ì§€ (`/admin/courses`)

#### ğŸ“ í˜ì´ì§€ ê°œìš”
- **ëª©ì **: ì½”ìŠ¤ CRUD ë° GPX ì—…ë¡œë“œ
- **ê²½ë¡œ**: `/admin/courses`
- **ì»´í¬ë„ŒíŠ¸**: `src/app/admin/courses/page.tsx`
- **ì¸ì¦**: ê´€ë¦¬ì í•„ìˆ˜

#### ğŸ¨ UI êµ¬ì„±
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ ì½”ìŠ¤ ê´€ë¦¬                 [â† ë’¤ë¡œ] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€ ìƒˆ ì½”ìŠ¤ ë“±ë¡ (ì•„ì½”ë””ì–¸) â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ â• GPX íŒŒì¼ ì—…ë¡œë“œ             â–¼ â”‚   â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚ â”‚ â”‚ ğŸ“ [GPX íŒŒì¼ ì„ íƒ]           â”‚ â”‚   â”‚
â”‚ â”‚ â”‚ ğŸ“ ì½”ìŠ¤ëª…: [            ]   â”‚ â”‚   â”‚
â”‚ â”‚ â”‚ ğŸ“„ ì„¤ëª…: [              ]   â”‚ â”‚   â”‚
â”‚ â”‚ â”‚ âš¡ ë‚œì´ë„: [ì‰¬ì›€â–¼]          â”‚ â”‚   â”‚
â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚   â”‚
â”‚ â”‚ â”‚ â”‚      [ë“±ë¡í•˜ê¸°]          â”‚ â”‚ â”‚   â”‚
â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚   â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“‹ ë“±ë¡ëœ ì½”ìŠ¤ ëª©ë¡ (3)               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ğŸŸ¢ ë¶ˆê´‘ì²œ ë”°ë¼ ë‹¬ë¦¬ê¸°              â”‚   â”‚
â”‚ â”‚ 4.2km â€¢ 35ë¶„ â€¢ ì¤‘ê¸‰             â”‚   â”‚
â”‚ â”‚ ğŸ’¬ 5ê°œ ëŒ“ê¸€ â€¢ ğŸ“· 3ê°œ ì‚¬ì§„         â”‚   â”‚
â”‚ â”‚ 2025-01-03              [âœï¸][ğŸ—‘ï¸] â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2.4 ê°œë³„ ì½”ìŠ¤ ê´€ë¦¬ (`/admin/courses/[id]/manage`) - v2.3 ì™„ì „íŒ

#### ğŸ“ í˜ì´ì§€ ê°œìš”
- **ëª©ì **: íŠ¹ì • ì½”ìŠ¤ì˜ ìƒì„¸ ê´€ë¦¬ (ì •ë³´ + ëŒ“ê¸€ + ì‚¬ì§„)
- **ê²½ë¡œ**: `/admin/courses/[id]/manage`
- **ì»´í¬ë„ŒíŠ¸**: `src/app/admin/courses/[id]/manage/page.tsx`
- **ì¸ì¦**: ê´€ë¦¬ì í•„ìˆ˜

#### ğŸ¨ UI êµ¬ì„± (v2.3 ì™„ì „íŒ)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœï¸ ë¶ˆê´‘ì²œ ë”°ë¼ ë‹¬ë¦¬ê¸° ê´€ë¦¬     [â† ë’¤ë¡œ] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“‹ ê¸°ë³¸ì •ë³´ | ğŸ—º GPXì •ë³´ | ğŸ’¬ ëŒ“ê¸€ | ğŸ“· ì‚¬ì§„ â”‚  â† íƒ­ ë„¤ë¹„ê²Œì´ì…˜
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ê¸°ë³¸ì •ë³´ íƒ­] ğŸ“‹                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ğŸ“ ì½”ìŠ¤ëª…: [ë¶ˆê´‘ì²œ ë”°ë¼ ë‹¬ë¦¬ê¸°    ] â”‚   â”‚
â”‚ â”‚ ğŸ“„ ì„¤ëª…: [ë¶ˆê´‘ì²œì„ ë”°ë¼...]      â”‚   â”‚
â”‚ â”‚ âš¡ ë‚œì´ë„: [ì¤‘ê¸‰ â–¼]              â”‚   â”‚
â”‚ â”‚ âœ… í™œì„±í™”: [â˜‘ï¸ ê³µê°œ]            â”‚   â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚ â”‚ â”‚      [ì €ì¥í•˜ê¸°]              â”‚ â”‚   â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ëŒ“ê¸€ ê´€ë¦¬ íƒ­] ğŸ’¬ (12)                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ğŸ‘¤ ê¹€ëŸ¬ë„ˆ: ì—¬ê¸° ì „ë§ ì¢‹ì•„ìš”!     [ğŸ—‘ï¸] â”‚   â”‚
â”‚ â”‚ ğŸ“ í¬ì¸íŠ¸ #247 (2.1km ì§€ì )        â”‚   â”‚
â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚   â”‚
â”‚ â”‚ ğŸ‘‘ ê´€ë¦¬ì: ì‹ í˜¸ë“± ì¡°ì‹¬í•˜ì„¸ìš”    [âœï¸] â”‚   â”‚
â”‚ â”‚ ğŸ“ í¬ì¸íŠ¸ #156 (1.2km ì§€ì )        â”‚   â”‚
â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚   â”‚
â”‚ â”‚ ğŸ‘¤ ë°•ëŸ¬ë„ˆ: ê²½ì‚¬ê°€ ì¢€ ìˆì–´ìš”     [ğŸ—‘ï¸] â”‚   â”‚
â”‚ â”‚ ğŸ“ í¬ì¸íŠ¸ #589 (3.8km ì§€ì )        â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ì‚¬ì§„ ê´€ë¦¬ íƒ­] ğŸ“· (8) - ìŠ¹ì¸ëŒ€ê¸°: 2    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ğŸ–¼ï¸ [ì¸ë„¤ì¼] ê¹€ëŸ¬ë„ˆ - 2025.01.06  â”‚   â”‚
â”‚ â”‚ "ëŸ¬ë‹ ëë‚˜ê³  ì°ì€ í•˜ëŠ˜!"           â”‚   â”‚
â”‚ â”‚ ğŸ“ í¬ì¸íŠ¸ #423 (2.8km ì§€ì )       â”‚   â”‚
â”‚ â”‚ â³ ìŠ¹ì¸ ëŒ€ê¸°     [âœ…ìŠ¹ì¸][ğŸ—‘ï¸ì‚­ì œ] â”‚   â”‚
â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚   â”‚
â”‚ â”‚ ğŸ–¼ï¸ [ì¸ë„¤ì¼] ë°•ëŸ¬ë„ˆ - 2025.01.05  â”‚   â”‚
â”‚ â”‚ "ë¶ˆê´‘ì²œ ì•¼ê²½"                    â”‚   â”‚
â”‚ â”‚ ğŸ“ í¬ì¸íŠ¸ #189 (1.1km ì§€ì )       â”‚   â”‚
â”‚ â”‚ âœ… ìŠ¹ì¸ ì™„ë£Œ     [ğŸ‘ï¸ë³´ê¸°][ğŸ—‘ï¸ì‚­ì œ] â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [GPX ì •ë³´ íƒ­] ğŸ—ºï¸                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ğŸ“ ê±°ë¦¬: 4.2km                   â”‚   â”‚
â”‚ â”‚ â±ï¸ ì†Œìš”ì‹œê°„: 35ë¶„                 â”‚   â”‚
â”‚ â”‚ â›°ï¸ ê³ ë„ìƒìŠ¹: 120m                 â”‚   â”‚
â”‚ â”‚ ğŸ“Š í¬ì¸íŠ¸ ìˆ˜: 1,247ê°œ              â”‚   â”‚
â”‚ â”‚ ğŸ’¬ ëŒ“ê¸€ ì§€ì : 12ê°œ                â”‚   â”‚
â”‚ â”‚ ğŸ“· ì‚¬ì§„ ì§€ì : 8ê°œ                 â”‚   â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚ â”‚ â”‚    [GPX ì¬ì—…ë¡œë“œ]             â”‚ â”‚   â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ğŸ”§ ì‚¬ì§„ ê´€ë¦¬ ê¸°ëŠ¥ ëª…ì„¸ (v2.3 ì‹ ê·œ)

##### ğŸ“· ì‚¬ì§„ ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš°
```typescript
interface PhotoApprovalWorkflow {
  // 1ë‹¨ê³„: ì‚¬ìš©ì ì—…ë¡œë“œ
  userUpload: {
    maxFileSize: 10 * 1024 * 1024;  // 10MB
    allowedFormats: ['jpg', 'jpeg', 'png', 'webp'];
    autoOptimization: true;         // WebP ë³€í™˜ + ë¦¬ì‚¬ì´ì§•
    thumbnailGeneration: true;      // 200x200 ì¸ë„¤ì¼ ìë™ ìƒì„±
    initialStatus: 'pending';       // ìŠ¹ì¸ ëŒ€ê¸° ìƒíƒœ
  };
  
  // 2ë‹¨ê³„: ê´€ë¦¬ì ê²€í† 
  adminReview: {
    reviewCriteria: [
      'ì½”ìŠ¤ì™€ ê´€ë ¨ì„±',
      'ë¶€ì ì ˆí•œ ë‚´ìš© ì—†ìŒ',
      'ê°œì¸ì •ë³´ ë…¸ì¶œ ì—†ìŒ',
      'ì €ì‘ê¶Œ ë¬¸ì œ ì—†ìŒ'
    ];
    actions: ['approve', 'reject', 'requestEdit'];
    rejectionReasons: string[];     // ë°˜ë ¤ ì‚¬ìœ  ì„ íƒ
  };
  
  // 3ë‹¨ê³„: ìŠ¹ì¸ í›„ ì²˜ë¦¬
  postApproval: {
    updateStatus: 'is_active = true';
    notifyUser: boolean;            // ì‚¬ìš©ìì—ê²Œ ìŠ¹ì¸ ì•Œë¦¼
    addToMap: boolean;              // ì§€ë„ì— ë§ˆì»¤ ì¶”ê°€
    updateStats: boolean;           // í†µê³„ ì—…ë°ì´íŠ¸
  };
}

// ì‚¬ì§„ ìŠ¹ì¸ í•¨ìˆ˜
const approvePhoto = async (photoId: string, adminId: string) => {
  try {
    // 1. ì‚¬ì§„ ìƒíƒœ ì—…ë°ì´íŠ¸
    const { data, error } = await supabase
      .from('course_photos_v2')
      .update({
        is_active: true,
        approved_by: adminId,
        approved_at: new Date().toISOString()
      })
      .eq('id', photoId)
      .select()
      .single();
    
    if (error) throw error;
    
    // 2. ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼ ì „ì†¡
    await sendNotification(data.user_id, {
      type: 'photo_approved',
      message: 'ì—…ë¡œë“œí•œ ì‚¬ì§„ì´ ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤.',
      photo_id: photoId
    });
    
    // 3. ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ (ë‹¤ë¥¸ ì‚¬ìš©ìë“¤ì—ê²Œ)
    await supabase
      .channel('course_photos')
      .send({
        type: 'broadcast',
        event: 'photo_approved',
        payload: data
      });
    
    return { success: true, photo: data };
  } catch (error) {
    console.error('Photo approval error:', error);
    return { success: false, error };
  }
};
```

##### ğŸ—‘ï¸ ì‚¬ì§„ ì‚­ì œ ë° ì‹ ê³  ì²˜ë¦¬
```typescript
interface PhotoModerationActions {
  // ê´€ë¦¬ì ì‚­ì œ
  adminDelete: {
    reasons: [
      'ë¶€ì ì ˆí•œ ë‚´ìš©',
      'ì½”ìŠ¤ì™€ ë¬´ê´€í•¨',
      'ê°œì¸ì •ë³´ ë…¸ì¶œ',
      'ì €ì‘ê¶Œ ì¹¨í•´',
      'ìŠ¤íŒ¸/ê´‘ê³ ',
      'ê¸°íƒ€'
    ];
    actions: [
      'soft_delete',  // is_active = false
      'hard_delete'   // ì™„ì „ ì‚­ì œ + Storage íŒŒì¼ ì‚­ì œ
    ];
  };
  
  // ì‚¬ìš©ì ì‹ ê³ 
  userReport: {
    reportTypes: [
      'inappropriate_content',
      'spam',
      'copyright_violation',
      'privacy_violation'
    ];
    thresholds: {
      auto_hide: 3,      // ì‹ ê³  3ê°œ ì´ìƒ ì‹œ ìë™ ìˆ¨ê¹€
      admin_review: 1    // ì‹ ê³  1ê°œ ì‹œ ê´€ë¦¬ì ê²€í†  í•„ìš”
    };
  };
}

// ì‚¬ì§„ ì‚­ì œ í•¨ìˆ˜
const deletePhoto = async (photoId: string, reason: string, hardDelete: boolean = false) => {
  try {
    const { data: photo } = await supabase
      .from('course_photos_v2')
      .select('image_url, thumbnail_url')
      .eq('id', photoId)
      .single();
    
    if (hardDelete) {
      // Storageì—ì„œ íŒŒì¼ ì‚­ì œ
      const imagePath = extractPathFromURL(photo.image_url);
      const thumbnailPath = extractPathFromURL(photo.thumbnail_url);
      
      await Promise.all([
        supabase.storage.from('course_photos').remove([imagePath]),
        supabase.storage.from('course_photos').remove([thumbnailPath])
      ]);
      
      // DBì—ì„œ ì™„ì „ ì‚­ì œ
      await supabase
        .from('course_photos_v2')
        .delete()
        .eq('id', photoId);
    } else {
      // ì†Œí”„íŠ¸ ì‚­ì œ
      await supabase
        .from('course_photos_v2')
        .update({ 
          is_active: false,
          deleted_reason: reason,
          deleted_at: new Date().toISOString()
        })
        .eq('id', photoId);
    }
    
    return { success: true };
  } catch (error) {
    console.error('Photo deletion error:', error);
    return { success: false, error };
  }
};
```

#### ğŸ’¬ ëŒ“ê¸€ ê´€ë¦¬ ê°•í™” (v2.3)
```typescript
interface CommentModerationFeatures {
  // ê¸°ì¡´ ê¸°ëŠ¥ ìœ ì§€
  editComment: boolean;
  deleteComment: boolean;
  
  // v2.3 ì¶”ê°€ ê¸°ëŠ¥
  massActions: {
    bulkDelete: boolean;          // ì—¬ëŸ¬ ëŒ“ê¸€ ì¼ê´„ ì‚­ì œ
    bulkApprove: boolean;         // ì—¬ëŸ¬ ëŒ“ê¸€ ì¼ê´„ ìŠ¹ì¸
    exportComments: boolean;      // ëŒ“ê¸€ ë°ì´í„° ë‚´ë³´ë‚´ê¸°
  };
  
  commentAnalytics: {
    sentimentAnalysis: boolean;   // ëŒ“ê¸€ ê°ì • ë¶„ì„
    spamDetection: boolean;       // ìŠ¤íŒ¸ ëŒ“ê¸€ ìë™ ê°ì§€
    frequentWords: string[];      // ìì£¼ ì‚¬ìš©ë˜ëŠ” ë‹¨ì–´
  };
  
  adminTools: {
    quickReplies: string[];       // ìì£¼ ì‚¬ìš©í•˜ëŠ” ê´€ë¦¬ì ë‹µë³€
    warningSystem: boolean;       // ì‚¬ìš©ì ê²½ê³  ì‹œìŠ¤í…œ
    banSystem: boolean;           // ì‚¬ìš©ì ì°¨ë‹¨ ì‹œìŠ¤í…œ
  };
}
```

---

### 2.5 ë¹„ë°€ë²ˆí˜¸ ê´€ë¦¬ (`/admin/password`)

#### ğŸ“ í˜ì´ì§€ ê°œìš”
- **ëª©ì **: ì•± ì ‘ê·¼ ë¹„ë°€ë²ˆí˜¸ ë³€ê²½
- **ê²½ë¡œ**: `/admin/password`
- **ì»´í¬ë„ŒíŠ¸**: `src/app/admin/password/page.tsx`
- **ì¸ì¦**: ê´€ë¦¬ì í•„ìˆ˜

#### ğŸ¨ UI êµ¬ì„±
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”’ ë¹„ë°€ë²ˆí˜¸ ê´€ë¦¬              [â† ë’¤ë¡œ] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“± ì•± ì ‘ê·¼ ë¹„ë°€ë²ˆí˜¸                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ í˜„ì¬ ë¹„ë°€ë²ˆí˜¸: [**********]      â”‚   â”‚
â”‚ â”‚ ìƒˆ ë¹„ë°€ë²ˆí˜¸: [            ]      â”‚   â”‚
â”‚ â”‚ ë¹„ë°€ë²ˆí˜¸ í™•ì¸: [            ]    â”‚   â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚ â”‚ â”‚        [ë³€ê²½í•˜ê¸°]            â”‚ â”‚   â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ›¡ï¸ ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ í˜„ì¬ ë¹„ë°€ë²ˆí˜¸: [            ]    â”‚   â”‚
â”‚ â”‚ ìƒˆ ë¹„ë°€ë²ˆí˜¸: [            ]      â”‚   â”‚
â”‚ â”‚ ë¹„ë°€ë²ˆí˜¸ í™•ì¸: [            ]    â”‚   â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚ â”‚ â”‚        [ë³€ê²½í•˜ê¸°]            â”‚ â”‚   â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“Š ì ‘ê·¼ ë¡œê·¸                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ 2025-01-06 14:30 - ì„±ê³µ ë¡œê·¸ì¸   â”‚   â”‚
â”‚ â”‚ 2025-01-06 09:15 - ì„±ê³µ ë¡œê·¸ì¸   â”‚   â”‚
â”‚ â”‚ 2025-01-05 18:22 - ì‹¤íŒ¨ (3íšŒ)    â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—„ï¸ 3. ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡° (v2.3 ì™„ì „íŒ)

### 3.1 í•µì‹¬ í…Œì´ë¸”

#### ğŸ“‹ courses_v2 (ì½”ìŠ¤ ì •ë³´)
```sql
CREATE TABLE courses_v2 (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  
  -- ê¸°ë³¸ ì •ë³´
  title VARCHAR(200) NOT NULL,
  description TEXT,
  difficulty VARCHAR(20) CHECK (difficulty IN ('easy', 'medium', 'hard')),
  
  -- JSONB í†µí•© ë°ì´í„°
  gpx_data JSONB NOT NULL CHECK (
    gpx_data ? 'version' AND 
    gpx_data ? 'points' AND 
    gpx_data ? 'bounds' AND 
    gpx_data ? 'stats'
  ),
  
  -- ë©”íƒ€ë°ì´í„°
  is_active BOOLEAN DEFAULT true,
  created_by UUID REFERENCES users(id),
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW(),
  
  -- ì„±ëŠ¥ ìµœì í™”: ìƒì„± ì»¬ëŸ¼
  distance_km DECIMAL(6,3) GENERATED ALWAYS AS 
    (ROUND((gpx_data->'stats'->>'totalDistance')::DECIMAL, 3)) STORED,
  elevation_gain DECIMAL(6,2) GENERATED ALWAYS AS 
    (ROUND((gpx_data->'stats'->>'elevationGain')::DECIMAL, 2)) STORED,
  duration_min INT GENERATED ALWAYS AS 
    ((gpx_data->'stats'->>'estimatedDuration')::INT) STORED,
  
  -- ì§€ë„ ì¿¼ë¦¬ ìµœì í™”: ê²½ê³„ ì¢Œí‘œ
  bounds_min_lat DECIMAL(9,6) GENERATED ALWAYS AS 
    ((gpx_data->'bounds'->>'minLat')::DECIMAL) STORED,
  bounds_max_lat DECIMAL(9,6) GENERATED ALWAYS AS 
    ((gpx_data->'bounds'->>'maxLat')::DECIMAL) STORED,
  bounds_min_lng DECIMAL(9,6) GENERATED ALWAYS AS 
    ((gpx_data->'bounds'->>'minLng')::DECIMAL) STORED,
  bounds_max_lng DECIMAL(9,6) GENERATED ALWAYS AS 
    ((gpx_data->'bounds'->>'maxLng')::DECIMAL) STORED,
  
  -- v2.3 ì¶”ê°€: í†µê³„ ì •ë³´
  view_count INT DEFAULT 0,
  comment_count INT DEFAULT 0,
  photo_count INT DEFAULT 0,
  like_count INT DEFAULT 0
);
```

#### ğŸ’¬ course_comments_v2 (ëŒ“ê¸€)
```sql
CREATE TABLE course_comments_v2 (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  course_id UUID NOT NULL REFERENCES courses_v2(id) ON DELETE CASCADE,
  
  -- ìœ„ì¹˜ ì •ë³´
  point_index INT NOT NULL,
  lat DECIMAL(9,6) NOT NULL,
  lng DECIMAL(9,6) NOT NULL,
  
  -- ëŒ“ê¸€ ë°ì´í„°
  user_id UUID REFERENCES users(id),
  username VARCHAR(100) NOT NULL,
  content TEXT NOT NULL CHECK (char_length(content) <= 500),
  
  -- ë©”íƒ€ë°ì´í„°
  is_admin_comment BOOLEAN DEFAULT false,
  is_active BOOLEAN DEFAULT true,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW(),
  
  -- v2.3 ì¶”ê°€: ì—°ê´€ ë°ì´í„°
  related_photo_id UUID REFERENCES course_photos_v2(id),  -- ê°™ì€ ì§€ì  ì‚¬ì§„
  reply_to_comment_id UUID REFERENCES course_comments_v2(id),  -- ëŒ€ëŒ“ê¸€
  
  -- ì‹ ê³  ë° ê´€ë¦¬
  report_count INT DEFAULT 0,
  is_reported BOOLEAN DEFAULT false,
  deleted_reason TEXT,
  deleted_at TIMESTAMP
);
```

#### ğŸ“· course_photos_v2 (ì‚¬ì§„) - v2.3 ì‹ ê·œ
```sql
CREATE TABLE course_photos_v2 (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  course_id UUID NOT NULL REFERENCES courses_v2(id) ON DELETE CASCADE,
  
  -- ìœ„ì¹˜ ì •ë³´
  point_index INT NOT NULL,
  lat DECIMAL(9,6) NOT NULL,
  lng DECIMAL(9,6) NOT NULL,
  
  -- ì‚¬ìš©ì ì •ë³´
  user_id UUID REFERENCES users(id),
  username VARCHAR(100) NOT NULL,
  
  -- ì‚¬ì§„ ë°ì´í„°
  image_url TEXT NOT NULL,
  thumbnail_url TEXT NOT NULL,
  description TEXT CHECK (char_length(description) <= 200),
  
  -- íŒŒì¼ ë©”íƒ€ë°ì´í„°
  file_size INT NOT NULL,
  image_width INT NOT NULL,
  image_height INT NOT NULL,
  content_type VARCHAR(50) DEFAULT 'image/webp',
  exif_data JSONB,
  
  -- ìŠ¹ì¸ ë° ê´€ë¦¬
  is_active BOOLEAN DEFAULT false,  -- ê´€ë¦¬ì ìŠ¹ì¸ í•„ìš”
  approved_by UUID REFERENCES users(id),
  approved_at TIMESTAMP,
  
  -- ì‹ ê³  ë° ì‚­ì œ
  report_count INT DEFAULT 0,
  is_reported BOOLEAN DEFAULT false,
  deleted_reason TEXT,
  deleted_at TIMESTAMP,
  
  -- íƒ€ì„ìŠ¤íƒ¬í”„
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);
```

#### ğŸ‘¥ users (ì‚¬ìš©ì)
```sql
CREATE TABLE users (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  provider VARCHAR(50) DEFAULT 'kakao',
  provider_id VARCHAR(200) UNIQUE,
  username VARCHAR(100) NOT NULL,
  email VARCHAR(200),
  profile_image TEXT,
  
  -- ê¶Œí•œ ë° ìƒíƒœ
  is_admin BOOLEAN DEFAULT false,
  is_active BOOLEAN DEFAULT true,
  is_banned BOOLEAN DEFAULT false,
  ban_reason TEXT,
  ban_until TIMESTAMP,
  
  -- í™œë™ í†µê³„
  comment_count INT DEFAULT 0,
  photo_count INT DEFAULT 0,
  course_completion_count INT DEFAULT 0,
  
  -- íƒ€ì„ìŠ¤íƒ¬í”„
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW(),
  last_login_at TIMESTAMP
);
```

### 3.2 ì¸ë±ìŠ¤ ì „ëµ (v2.3 ìµœì í™”)

```sql
-- ê¸°ë³¸ ì¸ë±ìŠ¤
CREATE INDEX idx_courses_active ON courses_v2(is_active);
CREATE INDEX idx_courses_difficulty ON courses_v2(difficulty);
CREATE INDEX idx_courses_distance ON courses_v2(distance_km);
CREATE INDEX idx_courses_bounds ON courses_v2(bounds_min_lat, bounds_max_lat, bounds_min_lng, bounds_max_lng);

-- ëŒ“ê¸€ ì¸ë±ìŠ¤
CREATE INDEX idx_comments_course ON course_comments_v2(course_id, is_active);
CREATE INDEX idx_comments_point ON course_comments_v2(course_id, point_index);
CREATE INDEX idx_comments_user ON course_comments_v2(user_id);
CREATE INDEX idx_comments_reported ON course_comments_v2(is_reported) WHERE is_reported = true;

-- ì‚¬ì§„ ì¸ë±ìŠ¤ (v2.3 ì‹ ê·œ)
CREATE INDEX idx_photos_course ON course_photos_v2(course_id, is_active);
CREATE INDEX idx_photos_point ON course_photos_v2(course_id, point_index);
CREATE INDEX idx_photos_user ON course_photos_v2(user_id);
CREATE INDEX idx_photos_pending ON course_photos_v2(is_active) WHERE is_active = false;
CREATE INDEX idx_photos_reported ON course_photos_v2(is_reported) WHERE is_reported = true;

-- ì‚¬ìš©ì ì¸ë±ìŠ¤
CREATE INDEX idx_users_provider ON users(provider, provider_id);
CREATE INDEX idx_users_active ON users(is_active);
CREATE INDEX idx_users_banned ON users(is_banned) WHERE is_banned = true;

-- GIN ì¸ë±ìŠ¤ (JSONB ìµœì í™”)
CREATE INDEX idx_courses_gpx_data ON courses_v2 USING GIN (gpx_data jsonb_path_ops);
CREATE INDEX idx_photos_exif ON course_photos_v2 USING GIN (exif_data) WHERE exif_data IS NOT NULL;
```

### 3.3 íŠ¸ë¦¬ê±° ë° í•¨ìˆ˜ (v2.3 ìë™í™”)

```sql
-- ëŒ“ê¸€ ìˆ˜ ìë™ ì—…ë°ì´íŠ¸
CREATE OR REPLACE FUNCTION update_course_comment_count()
RETURNS TRIGGER AS $$
BEGIN
  IF TG_OP = 'INSERT' THEN
    UPDATE courses_v2 
    SET comment_count = comment_count + 1,
        updated_at = NOW()
    WHERE id = NEW.course_id;
    RETURN NEW;
  ELSIF TG_OP = 'DELETE' THEN
    UPDATE courses_v2 
    SET comment_count = GREATEST(comment_count - 1, 0),
        updated_at = NOW()
    WHERE id = OLD.course_id;
    RETURN OLD;
  END IF;
  RETURN NULL;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER trigger_update_comment_count
  AFTER INSERT OR DELETE ON course_comments_v2
  FOR EACH ROW EXECUTE FUNCTION update_course_comment_count();

-- ì‚¬ì§„ ìˆ˜ ìë™ ì—…ë°ì´íŠ¸ (v2.3 ì‹ ê·œ)
CREATE OR REPLACE FUNCTION update_course_photo_count()
RETURNS TRIGGER AS $$
BEGIN
  IF TG_OP = 'INSERT' AND NEW.is_active = true THEN
    UPDATE courses_v2 
    SET photo_count = photo_count + 1,
        updated_at = NOW()
    WHERE id = NEW.course_id;
    RETURN NEW;
  ELSIF TG_OP = 'UPDATE' THEN
    IF OLD.is_active = false AND NEW.is_active = true THEN
      -- ìŠ¹ì¸ë¨
      UPDATE courses_v2 
      SET photo_count = photo_count + 1,
          updated_at = NOW()
      WHERE id = NEW.course_id;
    ELSIF OLD.is_active = true AND NEW.is_active = false THEN
      -- ë¹„ìŠ¹ì¸ë¨
      UPDATE courses_v2 
      SET photo_count = GREATEST(photo_count - 1, 0),
          updated_at = NOW()
      WHERE id = NEW.course_id;
    END IF;
    RETURN NEW;
  ELSIF TG_OP = 'DELETE' AND OLD.is_active = true THEN
    UPDATE courses_v2 
    SET photo_count = GREATEST(photo_count - 1, 0),
        updated_at = NOW()
    WHERE id = OLD.course_id;
    RETURN OLD;
  END IF;
  RETURN NULL;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER trigger_update_photo_count
  AFTER INSERT OR UPDATE OR DELETE ON course_photos_v2
  FOR EACH ROW EXECUTE FUNCTION update_course_photo_count();

-- ì‚¬ìš©ì í™œë™ í†µê³„ ì—…ë°ì´íŠ¸
CREATE OR REPLACE FUNCTION update_user_activity_stats()
RETURNS TRIGGER AS $$
BEGIN
  IF TG_TABLE_NAME = 'course_comments_v2' THEN
    IF TG_OP = 'INSERT' THEN
      UPDATE users 
      SET comment_count = comment_count + 1,
          updated_at = NOW()
      WHERE id = NEW.user_id;
    ELSIF TG_OP = 'DELETE' THEN
      UPDATE users 
      SET comment_count = GREATEST(comment_count - 1, 0),
          updated_at = NOW()
      WHERE id = OLD.user_id;
    END IF;
  ELSIF TG_TABLE_NAME = 'course_photos_v2' THEN
    IF TG_OP = 'INSERT' AND NEW.is_active = true THEN
      UPDATE users 
      SET photo_count = photo_count + 1,
          updated_at = NOW()
      WHERE id = NEW.user_id;
    ELSIF TG_OP = 'UPDATE' AND OLD.is_active = false AND NEW.is_active = true THEN
      UPDATE users 
      SET photo_count = photo_count + 1,
          updated_at = NOW()
      WHERE id = NEW.user_id;
    ELSIF TG_OP = 'DELETE' AND OLD.is_active = true THEN
      UPDATE users 
      SET photo_count = GREATEST(photo_count - 1, 0),
          updated_at = NOW()
      WHERE id = OLD.user_id;
    END IF;
  END IF;
  RETURN NULL;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER trigger_update_user_comment_stats
  AFTER INSERT OR DELETE ON course_comments_v2
  FOR EACH ROW EXECUTE FUNCTION update_user_activity_stats();

CREATE TRIGGER trigger_update_user_photo_stats
  AFTER INSERT OR UPDATE OR DELETE ON course_photos_v2
  FOR EACH ROW EXECUTE FUNCTION update_user_activity_stats();
```

---

## ğŸ”’ 4. ë³´ì•ˆ ì •ì±… (RLS) v2.3

### 4.1 Row Level Security ì„¤ì •

```sql
-- RLS í™œì„±í™”
ALTER TABLE courses_v2 ENABLE ROW LEVEL SECURITY;
ALTER TABLE course_comments_v2 ENABLE ROW LEVEL SECURITY;
ALTER TABLE course_photos_v2 ENABLE ROW LEVEL SECURITY;
ALTER TABLE users ENABLE ROW LEVEL SECURITY;

-- ì½”ìŠ¤ ì •ì±…
CREATE POLICY "courses_public_read" ON courses_v2
  FOR SELECT USING (is_active = true);

CREATE POLICY "courses_admin_write" ON courses_v2
  FOR ALL USING (
    auth.jwt() ->> 'is_admin' = 'true' OR
    auth.uid() = created_by
  );

-- ëŒ“ê¸€ ì •ì±…
CREATE POLICY "comments_public_read" ON course_comments_v2
  FOR SELECT USING (is_active = true);

CREATE POLICY "comments_user_write" ON course_comments_v2
  FOR INSERT WITH CHECK (
    auth.uid() IS NOT NULL AND
    auth.uid() = user_id AND
    NOT EXISTS (
      SELECT 1 FROM users 
      WHERE id = auth.uid() 
      AND (is_banned = true OR is_active = false)
    )
  );

CREATE POLICY "comments_owner_update" ON course_comments_v2
  FOR UPDATE USING (
    auth.uid() = user_id OR 
    auth.jwt() ->> 'is_admin' = 'true'
  );

-- ì‚¬ì§„ ì •ì±… (v2.3 ì‹ ê·œ)
CREATE POLICY "photos_public_read" ON course_photos_v2
  FOR SELECT USING (is_active = true);

CREATE POLICY "photos_user_upload" ON course_photos_v2
  FOR INSERT WITH CHECK (
    auth.uid() IS NOT NULL AND
    auth.uid() = user_id AND
    NOT EXISTS (
      SELECT 1 FROM users 
      WHERE id = auth.uid() 
      AND (is_banned = true OR is_active = false)
    )
  );

CREATE POLICY "photos_admin_manage" ON course_photos_v2
  FOR ALL USING (
    auth.jwt() ->> 'is_admin' = 'true'
  );

CREATE POLICY "photos_owner_view" ON course_photos_v2
  FOR SELECT USING (
    is_active = true OR auth.uid() = user_id
  );

-- ì‚¬ìš©ì ì •ì±…
CREATE POLICY "users_public_info" ON users
  FOR SELECT USING (is_active = true);

CREATE POLICY "users_own_profile" ON users
  FOR UPDATE USING (auth.uid() = id);
```

---

## ğŸ® 5. UI/UX í”Œë¡œìš° (v2.3 ì™„ì „íŒ)

### 5.1 ì‚¬ìš©ì í”Œë¡œìš° ë‹¤ì´ì–´ê·¸ë¨

```mermaid
graph TD
    A[ì•± ì‹œì‘] --> B{ì¸ì¦ ìƒíƒœ}
    B -->|ë¯¸ì¸ì¦| C[ë¡œê·¸ì¸ í˜ì´ì§€]
    B -->|ì¸ì¦ë¨| D[ì§€ë„ í˜ì´ì§€]
    
    C --> E[ë¹„ë°€ë²ˆí˜¸ ì…ë ¥]
    E -->|ì„±ê³µ| D
    E -->|ì‹¤íŒ¨| F[ì—ëŸ¬ ë©”ì‹œì§€]
    F --> C
    
    D --> G[ì½”ìŠ¤ ë§ˆì»¤ í´ë¦­]
    G --> H[ë“œë¡œì›Œ ì—´ë¦¼]
    H --> I[ì½”ìŠ¤ ì„ íƒ]
    I --> J[ì½”ìŠ¤ ìƒì„¸ í˜ì´ì§€]
    
    J --> K[ë¹„í–‰ëª¨ë“œ ì‹œì‘]
    J --> L[ëŒ“ê¸€ ì‘ì„±]
    J --> M[ì‚¬ì§„ ì—…ë¡œë“œ]
    J --> N[ê°¤ëŸ¬ë¦¬ ë³´ê¸°]
    
    K --> O[ê²½ë¡œ ìë™ ì¬ìƒ]
    O --> P{ëŒ“ê¸€/ì‚¬ì§„ ì§€ì  ë„ë‹¬}
    P -->|ëŒ“ê¸€| Q[ëŒ“ê¸€ ë§ˆì»¤ í•˜ì´ë¼ì´íŠ¸]
    P -->|ì‚¬ì§„| R[ì‚¬ì§„ ë§ˆì»¤ í•˜ì´ë¼ì´íŠ¸]
    Q --> S[í•˜ë‹¨ ëŒ“ê¸€ ë¦¬ìŠ¤íŠ¸ ìŠ¤í¬ë¡¤]
    R --> T[ì‚¬ì§„ ê°¤ëŸ¬ë¦¬ í•˜ì´ë¼ì´íŠ¸]
    
    L --> U[ì§€ì  ì„ íƒ]
    U --> V[ëŒ“ê¸€ ì‘ì„± íŒì—…]
    V --> W[ì‹¤ì‹œê°„ ëŒ“ê¸€ ë°˜ì˜]
    
    M --> X[ì§€ì  ì„ íƒ]
    X --> Y[ì‚¬ì§„ ì—…ë¡œë“œ íŒì—…]
    Y --> Z[ìŠ¹ì¸ ëŒ€ê¸°]
    Z --> AA[ê´€ë¦¬ì ìŠ¹ì¸ í›„ í‘œì‹œ]
```

### 5.2 ê´€ë¦¬ì í”Œë¡œìš° ë‹¤ì´ì–´ê·¸ë¨

```mermaid
graph TD
    A[ê´€ë¦¬ì ë¡œê·¸ì¸] --> B[ëŒ€ì‹œë³´ë“œ]
    B --> C{ìŠ¹ì¸ ëŒ€ê¸° í•­ëª©}
    C -->|ì‚¬ì§„ ìŠ¹ì¸ ëŒ€ê¸°| D[ì‚¬ì§„ ê´€ë¦¬]
    C -->|ì‹ ê³ ëœ ëŒ“ê¸€| E[ëŒ“ê¸€ ê´€ë¦¬]
    C -->|ì¼ë°˜ ê´€ë¦¬| F[ì½”ìŠ¤ ê´€ë¦¬]
    
    D --> G[ì‚¬ì§„ ê²€í† ]
    G --> H{ìŠ¹ì¸ ê²°ì •}
    H -->|ìŠ¹ì¸| I[í™œì„±í™” + ì‚¬ìš©ì ì•Œë¦¼]
    H -->|ë°˜ë ¤| J[ë°˜ë ¤ ì‚¬ìœ  + ì‚¬ìš©ì ì•Œë¦¼]
    
    E --> K[ëŒ“ê¸€ ê²€í† ]
    K --> L{ì¡°ì¹˜ ê²°ì •}
    L -->|ì‚­ì œ| M[ëŒ“ê¸€ ì‚­ì œ]
    L -->|ê²½ê³ | N[ì‚¬ìš©ì ê²½ê³ ]
    L -->|ì°¨ë‹¨| O[ì‚¬ìš©ì ì°¨ë‹¨]
    
    F --> P[ì½”ìŠ¤ ìˆ˜ì •]
    F --> Q[GPX ì—…ë¡œë“œ]
    F --> R[ëŒ“ê¸€ ê´€ë¦¬]
    F --> S[ì‚¬ì§„ ê´€ë¦¬]
```

### 5.3 ì‹¤ì‹œê°„ ë™ê¸°í™” í”Œë¡œìš°

```mermaid
graph TD
    A[ì‚¬ìš©ì A: ëŒ“ê¸€ ì‘ì„±] --> B[Supabase ì €ì¥]
    B --> C[Realtime ì´ë²¤íŠ¸ ë°œìƒ]
    C --> D[êµ¬ë… ì¤‘ì¸ ëª¨ë“  í´ë¼ì´ì–¸íŠ¸]
    D --> E[ì‚¬ìš©ì B: ì‹¤ì‹œê°„ ëŒ“ê¸€ í‘œì‹œ]
    D --> F[ì‚¬ìš©ì C: ì§€ë„ ë§ˆì»¤ ì—…ë°ì´íŠ¸]
    
    G[ì‚¬ìš©ì A: ì‚¬ì§„ ì—…ë¡œë“œ] --> H[Storage ì—…ë¡œë“œ]
    H --> I[DB ì €ì¥ (ìŠ¹ì¸ ëŒ€ê¸°)]
    I --> J[ê´€ë¦¬ì ì•Œë¦¼]
    J --> K[ê´€ë¦¬ì: ìŠ¹ì¸]
    K --> L[Realtime ì´ë²¤íŠ¸]
    L --> M[ëª¨ë“  ì‚¬ìš©ì: ì‚¬ì§„ í‘œì‹œ]
    
    N[ë¹„í–‰ëª¨ë“œ ì‚¬ìš©ì] --> O[ê²½ë¡œ í¬ì¸íŠ¸ ì´ë™]
    O --> P{ê·¼ì²˜ì— ëŒ“ê¸€/ì‚¬ì§„?}
    P -->|ìˆìŒ| Q[ë§ˆì»¤ í•˜ì´ë¼ì´íŠ¸]
    P -->|ì—†ìŒ| R[ê³„ì† ì´ë™]
    Q --> S[í•˜ë‹¨ UI ë™ê¸°í™”]
```

---

## ğŸ“Š 6. ì„±ëŠ¥ ìµœì í™” ì „ëµ (v2.3)

### 6.1 ì´ë¯¸ì§€ ìµœì í™”

```typescript
// ì‚¬ì§„ ì—…ë¡œë“œ ìµœì í™” íŒŒì´í”„ë¼ì¸
interface ImageOptimizationPipeline {
  // 1ë‹¨ê³„: í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ìµœì í™”
  clientOptimization: {
    maxWidth: 1920;
    maxHeight: 1080;
    quality: 0.8;
    format: 'webp';
    stripExif: true;  // ê°œì¸ì •ë³´ ì œê±°
  };
  
  // 2ë‹¨ê³„: ì¸ë„¤ì¼ ìƒì„±
  thumbnailGeneration: {
    sizes: [200, 400, 800];  // ë‹¤ì–‘í•œ ì¸ë„¤ì¼ í¬ê¸°
    format: 'webp';
    quality: 0.7;
  };
  
  // 3ë‹¨ê³„: CDN ìºì‹±
  cdnStrategy: {
    cacheHeaders: 'max-age=31536000';  // 1ë…„
    compressionEnabled: true;
    webpSupport: true;
  };
}

// ì´ë¯¸ì§€ ìµœì í™” í•¨ìˆ˜
const optimizeAndUploadImage = async (file: File): Promise<UploadResult> => {
  try {
    // 1. ì´ë¯¸ì§€ ê²€ì¦
    if (!['image/jpeg', 'image/png', 'image/webp'].includes(file.type)) {
      throw new Error('ì§€ì›í•˜ì§€ ì•ŠëŠ” ì´ë¯¸ì§€ í˜•ì‹ì…ë‹ˆë‹¤.');
    }
    
    if (file.size > 10 * 1024 * 1024) {  // 10MB
      throw new Error('íŒŒì¼ í¬ê¸°ê°€ ë„ˆë¬´ í½ë‹ˆë‹¤. (ìµœëŒ€ 10MB)');
    }
    
    // 2. ì´ë¯¸ì§€ ìµœì í™”
    const canvas = document.createElement('canvas');
    const ctx = canvas.getContext('2d');
    const img = new Image();
    
    return new Promise((resolve, reject) => {
      img.onload = async () => {
        // í¬ê¸° ì¡°ì •
        const { width, height } = calculateOptimalSize(img.width, img.height, 1920, 1080);
        canvas.width = width;
        canvas.height = height;
        
        // ì´ë¯¸ì§€ ê·¸ë¦¬ê¸°
        ctx.drawImage(img, 0, 0, width, height);
        
        // WebP ë³€í™˜
        canvas.toBlob(async (optimizedBlob) => {
          if (!optimizedBlob) {
            reject(new Error('ì´ë¯¸ì§€ ìµœì í™” ì‹¤íŒ¨'));
            return;
          }
          
          // ì¸ë„¤ì¼ ìƒì„±
          const thumbnailBlob = await createThumbnail(img, 200, 200);
          
          // ë³‘ë ¬ ì—…ë¡œë“œ
          const [originalResult, thumbnailResult] = await Promise.all([
            uploadToStorage(optimizedBlob, 'original'),
            uploadToStorage(thumbnailBlob, 'thumbnail')
          ]);
          
          resolve({
            originalUrl: originalResult.url,
            thumbnailUrl: thumbnailResult.url,
            originalSize: optimizedBlob.size,
            thumbnailSize: thumbnailBlob.size,
            dimensions: { width, height }
          });
        }, 'image/webp', 0.8);
      };
      
      img.onerror = () => reject(new Error('ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨'));
      img.src = URL.createObjectURL(file);
    });
  } catch (error) {
    console.error('Image optimization error:', error);
    throw error;
  }
};
```

### 6.2 ì§€ë„ ì„±ëŠ¥ ìµœì í™”

```typescript
// ì§€ë„ ë§ˆì»¤ í´ëŸ¬ìŠ¤í„°ë§ ë° ê°€ìƒí™”
interface MapOptimizationStrategy {
  // ë§ˆì»¤ í´ëŸ¬ìŠ¤í„°ë§
  clustering: {
    enabled: boolean;
    maxZoom: 15;  // ì¤Œ ë ˆë²¨ 15ê¹Œì§€ë§Œ í´ëŸ¬ìŠ¤í„°ë§
    radius: 50;   // í´ëŸ¬ìŠ¤í„° ë°˜ê²½ (í”½ì…€)
    spiderfyOnMaxZoom: true;
  };
  
  // ê°€ìƒí™” (Virtualization)
  virtualization: {
    enabled: boolean;
    maxVisibleMarkers: 100;  // ìµœëŒ€ í‘œì‹œ ë§ˆì»¤ ìˆ˜
    loadStrategy: 'viewport-based';  // ë·°í¬íŠ¸ ê¸°ë°˜ ë¡œë”©
  };
  
  // ë ˆì´ì–´ ìµœì í™”
  layerOptimization: {
    lazyLoading: true;
    levelOfDetail: true;  // ì¤Œ ë ˆë²¨ì— ë”°ë¥¸ ìƒì„¸ë„ ì¡°ì ˆ
    caching: true;
  };
}

// ë§ˆì»¤ ê°€ìƒí™” êµ¬í˜„
const VirtualizedMarkers: React.FC<{
  markers: MarkerData[];
  viewport: MapViewport;
}> = ({ markers, viewport }) => {
  const visibleMarkers = useMemo(() => {
    // ë·°í¬íŠ¸ ë‚´ ë§ˆì»¤ë§Œ í•„í„°ë§
    const filtered = markers.filter(marker => 
      isMarkerInViewport(marker, viewport)
    );
    
    // ì¤‘ìš”ë„ì— ë”°ë¥¸ ì •ë ¬ (ëŒ“ê¸€/ì‚¬ì§„ ìˆ˜ ê¸°ì¤€)
    return filtered
      .sort((a, b) => (b.commentCount + b.photoCount) - (a.commentCount + a.photoCount))
      .slice(0, 100);  // ìµœëŒ€ 100ê°œë§Œ í‘œì‹œ
  }, [markers, viewport]);
  
  return (
    <>
      {visibleMarkers.map(marker => (
        <Marker
          key={marker.id}
          longitude={marker.lng}
          latitude={marker.lat}
          onClick={() => handleMarkerClick(marker)}
        >
          <MarkerIcon type={marker.type} data={marker} />
        </Marker>
      ))}
    </>
  );
};
```

### 6.3 ë°ì´í„° ìºì‹± ì „ëµ

```typescript
// ê³„ì¸µí™”ëœ ìºì‹± ì „ëµ
interface CachingStrategy {
  // L1 ìºì‹œ: ë©”ëª¨ë¦¬ ìºì‹œ (React Query)
  l1Cache: {
    duration: '5m';
    strategy: 'stale-while-revalidate';
    keys: ['courses', 'comments', 'photos'];
  };
  
  // L2 ìºì‹œ: ë¸Œë¼ìš°ì € ìºì‹œ (Service Worker)
  l2Cache: {
    duration: '1h';
    strategy: 'cache-first';
    resources: ['gpx-data', 'thumbnails', 'map-tiles'];
  };
  
  // L3 ìºì‹œ: CDN ìºì‹œ
  l3Cache: {
    duration: '24h';
    strategy: 'edge-caching';
    resources: ['images', 'static-assets'];
  };
}

// React Query ì„¤ì •
const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      staleTime: 5 * 60 * 1000,  // 5ë¶„
      cacheTime: 10 * 60 * 1000, // 10ë¶„
      refetchOnWindowFocus: false,
      retry: (failureCount, error) => {
        if (error?.status === 404) return false;
        return failureCount < 3;
      },
    },
  },
});

// ì½”ìŠ¤ë³„ ë°ì´í„° í”„ë¦¬í˜ì¹­
const prefetchCourseData = async (courseId: string) => {
  await Promise.all([
    queryClient.prefetchQuery(['course', courseId], () => getCourse(courseId)),
    queryClient.prefetchQuery(['comments', courseId], () => getComments(courseId)),
    queryClient.prefetchQuery(['photos', courseId], () => getPhotos(courseId)),
  ]);
};
```

---

## ğŸ§ª 7. í…ŒìŠ¤íŠ¸ ì „ëµ (v2.3)

### 7.1 ì‚¬ì§„ ì—…ë¡œë“œ í…ŒìŠ¤íŠ¸

```typescript
// ì‚¬ì§„ ì—…ë¡œë“œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
describe('Photo Upload System', () => {
  test('ì´ë¯¸ì§€ ìµœì í™” ë° ì¸ë„¤ì¼ ìƒì„±', async () => {
    const mockFile = new File(['test'], 'test.jpg', { type: 'image/jpeg' });
    
    const result = await optimizeAndUploadImage(mockFile);
    
    expect(result.originalUrl).toBeDefined();
    expect(result.thumbnailUrl).toBeDefined();
    expect(result.originalSize).toBeLessThan(mockFile.size);
    expect(result.dimensions.width).toBeLessThanOrEqual(1920);
    expect(result.dimensions.height).toBeLessThanOrEqual(1080);
  });
  
  test('ì§€ì›í•˜ì§€ ì•ŠëŠ” íŒŒì¼ í˜•ì‹ ê±°ë¶€', async () => {
    const invalidFile = new File(['test'], 'test.txt', { type: 'text/plain' });
    
    await expect(optimizeAndUploadImage(invalidFile))
      .rejects.toThrow('ì§€ì›í•˜ì§€ ì•ŠëŠ” ì´ë¯¸ì§€ í˜•ì‹ì…ë‹ˆë‹¤.');
  });
  
  test('íŒŒì¼ í¬ê¸° ì œí•œ í™•ì¸', async () => {
    const largeFile = new File([new ArrayBuffer(11 * 1024 * 1024)], 'large.jpg', { 
      type: 'image/jpeg' 
    });
    
    await expect(optimizeAndUploadImage(largeFile))
      .rejects.toThrow('íŒŒì¼ í¬ê¸°ê°€ ë„ˆë¬´ í½ë‹ˆë‹¤.');
  });
});
```

### 7.2 ì‹¤ì‹œê°„ ë™ê¸°í™” í…ŒìŠ¤íŠ¸

```typescript
// ì‹¤ì‹œê°„ ê¸°ëŠ¥ í†µí•© í…ŒìŠ¤íŠ¸
describe('Realtime Synchronization', () => {
  test('ëŒ“ê¸€ ì‹¤ì‹œê°„ ë™ê¸°í™”', async () => {
    const courseId = 'test-course-id';
    const mockComment = {
      course_id: courseId,
      point_index: 100,
      content: 'í…ŒìŠ¤íŠ¸ ëŒ“ê¸€',
      username: 'í…ŒìŠ¤íŠ¸ìœ ì €'
    };
    
    // ëŒ“ê¸€ ì‘ì„±
    const comment = await createComment(mockComment);
    
    // ì‹¤ì‹œê°„ ì´ë²¤íŠ¸ ëŒ€ê¸°
    const realtimeEvent = await waitForRealtimeEvent('course_comments', 'INSERT');
    
    expect(realtimeEvent.new.id).toBe(comment.id);
    expect(realtimeEvent.new.content).toBe(mockComment.content);
  });
  
  test('ì‚¬ì§„ ìŠ¹ì¸ í›„ ì‹¤ì‹œê°„ í‘œì‹œ', async () => {
    const photoId = 'test-photo-id';
    
    // ê´€ë¦¬ìê°€ ì‚¬ì§„ ìŠ¹ì¸
    await approvePhoto(photoId, 'admin-id');
    
    // ì‹¤ì‹œê°„ ì´ë²¤íŠ¸ í™•ì¸
    const realtimeEvent = await waitForRealtimeEvent('course_photos', 'UPDATE');
    
    expect(realtimeEvent.new.is_active).toBe(true);
    expect(realtimeEvent.new.approved_by).toBe('admin-id');
  });
});
```

### 7.3 E2E í…ŒìŠ¤íŠ¸ (ì‚¬ì§„ ê¸°ëŠ¥ í¬í•¨)

```typescript
// Playwright ê¸°ë°˜ E2E í…ŒìŠ¤íŠ¸
describe('Complete User Journey with Photos', () => {
  test('ì‚¬ì§„ ì—…ë¡œë“œë¶€í„° í‘œì‹œê¹Œì§€ ì „ì²´ í”Œë¡œìš°', async ({ page }) => {
    // 1. ë¡œê·¸ì¸
    await page.goto('/');
    await page.fill('[data-testid=password-input]', 'test-password');
    await page.click('[data-testid=login-button]');
    
    // 2. ì½”ìŠ¤ ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™
    await page.goto('/courses/test-course-id');
    
    // 3. ì§€ë„ì—ì„œ ì§€ì  í´ë¦­
    await page.click('[data-testid=mapbox-map]', { position: { x: 400, y: 300 } });
    
    // 4. ì‚¬ì§„ ì—…ë¡œë“œ íŒì—…ì—ì„œ íŒŒì¼ ì„ íƒ
    await page.click('[data-testid=upload-photo-tab]');
    const fileInput = page.locator('[data-testid=photo-file-input]');
    await fileInput.setInputFiles('test-assets/sample-photo.jpg');
    
    // 5. ì„¤ëª… ì…ë ¥ ë° ì—…ë¡œë“œ
    await page.fill('[data-testid=photo-description]', 'í…ŒìŠ¤íŠ¸ ì‚¬ì§„ì…ë‹ˆë‹¤');
    await page.click('[data-testid=upload-button]');
    
    // 6. ì—…ë¡œë“œ ì„±ê³µ ë©”ì‹œì§€ í™•ì¸
    await expect(page.locator('[data-testid=upload-success]')).toBeVisible();
    
    // 7. ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ ìŠ¹ì¸
    await page.goto('/admin/courses/test-course-id/manage');
    await page.click('[data-testid=photos-tab]');
    await page.click('[data-testid=approve-photo-button]');
    
    // 8. ì½”ìŠ¤ í˜ì´ì§€ë¡œ ëŒì•„ê°€ì„œ ì‚¬ì§„ í‘œì‹œ í™•ì¸
    await page.goto('/courses/test-course-id');
    await expect(page.locator('[data-testid=photo-marker]')).toBeVisible();
    await expect(page.locator('[data-testid=photo-gallery]')).toContainText('í…ŒìŠ¤íŠ¸ ì‚¬ì§„ì…ë‹ˆë‹¤');
  });
});
```

---

## ğŸš€ 8. ë¡œë“œë§µ (2025ë…„ ê³„íš)

### 8.1 Q1 (Jan-Mar): í•µì‹¬ ê¸°ëŠ¥ ì™„ì„±
- âœ… **DB ë§ˆì´ê·¸ë ˆì´ì…˜**: courses_v2, comments_v2, photos_v2 ì™„ë£Œ
- âœ… **ë¹„í–‰ëª¨ë“œ**: ìë™ ì¬ìƒ + ì¹´ë©”ë¼ ì¶”ì  + ë§ˆì»¤ í•˜ì´ë¼ì´íŠ¸
- âœ… **ì›¨ì´í¬ì¸íŠ¸ ëŒ“ê¸€**: ì‹¤ì‹œê°„ CRUD + ì§€ì ë³„ í‘œì‹œ
- âœ… **ì‚¬ì§„ ì—…ë¡œë“œ**: ìµœì í™” + ìŠ¹ì¸ ì‹œìŠ¤í…œ + ê°¤ëŸ¬ë¦¬
- ğŸ”„ **ì„±ëŠ¥ ìµœì í™”**: ì´ë¯¸ì§€ ì••ì¶•, ë§ˆì»¤ ê°€ìƒí™”, ìºì‹±

### 8.2 Q2 (Apr-Jun): ì»¤ë®¤ë‹ˆí‹° ê³ ë„í™”
```typescript
// ğŸƒâ€â™‚ï¸ ì™„ì£¼ ì¸ì¦ ì‹œìŠ¤í…œ
interface RunCompletionSystem {
  gpsTracking: boolean;        // ì‹¤ì‹œê°„ GPS ì¶”ì 
  photoEvidence: boolean;      // ì™„ì£¼ ì¸ì¦ ì‚¬ì§„
  timeTracking: boolean;       // ëŸ¬ë‹ ì‹œê°„ ê¸°ë¡
  leaderboard: boolean;        // ë¦¬ë”ë³´ë“œ ì‹œìŠ¤í…œ
  achievements: boolean;       // ë±ƒì§€ ì‹œìŠ¤í…œ
}

// ğŸ‘¥ ëŸ¬ë‹ ë©”ì´íŠ¸ ë§¤ì¹­
interface RunningMateFeature {
  groupCreation: boolean;      // ëŸ¬ë‹ ê·¸ë£¹ ìƒì„±
  scheduleMatching: boolean;   // ì¼ì • ë§¤ì¹­
  paceMatching: boolean;       // í˜ì´ìŠ¤ ë§¤ì¹­
  chatSystem: boolean;         // ê·¸ë£¹ ì±„íŒ…
  reviewSystem: boolean;       // ë©”ì´íŠ¸ ë¦¬ë·°
}

// ğŸ–ï¸ ê°œì¸ ê¸°ë¡ ì‹œìŠ¤í…œ
interface PersonalRecords {
  runningHistory: RunRecord[]; // ëŸ¬ë‹ ê¸°ë¡
  personalBests: PersonalBest[]; // ê°œì¸ ìµœê³  ê¸°ë¡
  statisticsDashboard: boolean; // í†µê³„ ëŒ€ì‹œë³´ë“œ
  goalSetting: boolean;        // ëª©í‘œ ì„¤ì •
  progressTracking: boolean;   // ì§„í–‰ë¥  ì¶”ì 
}
```

### 8.3 Q3 (Jul-Sep): AI ë° ìŠ¤ë§ˆíŠ¸ ê¸°ëŠ¥
```typescript
// ğŸ¤– AI ì½”ìŠ¤ ì¶”ì²œ ì—”ì§„
interface AIRecommendationEngine {
  personalizedRecommendation: {
    fitnessLevel: number;      // ì‚¬ìš©ì ì²´ë ¥ ìˆ˜ì¤€
    preferredDistance: number; // ì„ í˜¸ ê±°ë¦¬
    weatherPreference: string; // ë‚ ì”¨ ì„ í˜¸ë„
    timeOfDay: string;        // ì„ í˜¸ ì‹œê°„ëŒ€
    difficultyPreference: string; // ë‚œì´ë„ ì„ í˜¸ë„
  };
  
  smartRouting: {
    trafficAvoidance: boolean;   // êµí†µëŸ‰ íšŒí”¼
    airQualityConsideration: boolean; // ê³µê¸°ì§ˆ ê³ ë ¤
    safetyRouting: boolean;      // ì•ˆì „ ê²½ë¡œ ìš°ì„ 
    scenicRouting: boolean;      // ê²½ê´€ ì¢‹ì€ ê²½ë¡œ
  };
  
  predictiveAnalytics: {
    weatherImpactAnalysis: boolean; // ë‚ ì”¨ ì˜í–¥ ë¶„ì„
    crowdingPrediction: boolean;    // í˜¼ì¡ë„ ì˜ˆì¸¡
    optimalTimeRecommendation: boolean; // ìµœì  ì‹œê°„ ì¶”ì²œ
  };
}

// ğŸ“Š ê³ ê¸‰ ë¶„ì„ ëŒ€ì‹œë³´ë“œ
interface AdvancedAnalytics {
  userBehaviorAnalysis: UserPattern[];
  coursePopularityTrends: TrendData[];
  communityInsights: CommunityMetrics;
  performanceAnalytics: PerformanceData[];
}
```

### 8.4 Q4 (Oct-Dec): í”Œë«í¼ í™•ì¥
```typescript
// ğŸŒ ë‹¤ì§€ì—­ í™•ì¥
interface MultiRegionPlatform {
  regionManagement: {
    seoulDistricts: string[];    // ì„œìš¸ 25ê°œ êµ¬
    metropolitanAreas: string[]; // ìˆ˜ë„ê¶Œ í™•ì¥
    majorCities: string[];       // ì£¼ìš” ë„ì‹œ
  };
  
  localizedFeatures: {
    regionalAdmins: boolean;     // ì§€ì—­ë³„ ê´€ë¦¬ì
    localEvents: boolean;        // ì§€ì—­ ì´ë²¤íŠ¸
    culturalContent: boolean;    // ì§€ì—­ ë¬¸í™” ì½˜í…ì¸ 
    languageSupport: string[];   // ë‹¤êµ­ì–´ ì§€ì›
  };
}

// ğŸ“± ëª¨ë°”ì¼ ì•± ê³ ë„í™”
interface MobileAppEnhancement {
  offlineCapabilities: {
    offlineMaps: boolean;        // ì˜¤í”„ë¼ì¸ ì§€ë„
    cachedRoutes: boolean;       // ìºì‹œëœ ê²½ë¡œ
    offlineComments: boolean;    // ì˜¤í”„ë¼ì¸ ëŒ“ê¸€ ë™ê¸°í™”
  };
  
  wearableIntegration: {
    appleWatchSupport: boolean;  // Apple Watch ì§€ì›
    galaxyWatchSupport: boolean; // Galaxy Watch ì§€ì›
    heartRateMonitoring: boolean; // ì‹¬ë°•ìˆ˜ ëª¨ë‹ˆí„°ë§
    voiceGuidance: boolean;      // ìŒì„± ì•ˆë‚´
  };
  
  healthIntegration: {
    appleHealthKit: boolean;     // Apple HealthKit
    googleFit: boolean;          // Google Fit
    samsungHealth: boolean;      // Samsung Health
    strava: boolean;             // Strava ì—°ë™
  };
}
```

---

## ğŸ“Š 9. ì„±ê³µ ì§€í‘œ (v2.3 KPI)

### 9.1 ì‚¬ìš©ì ì°¸ì—¬ë„ ì§€í‘œ
```typescript
interface EngagementMetrics {
  // ê¸°ë³¸ ì‚¬ìš© ì§€í‘œ
  dailyActiveUsers: number;
  monthlyActiveUsers: number;
  averageSessionDuration: number;    // ë¶„ ë‹¨ìœ„
  
  // ì½˜í…ì¸  ì°¸ì—¬ ì§€í‘œ (v2.3 í™•ì¥)
  courseViewRate: number;            // ì½”ìŠ¤ ì¡°íšŒìœ¨
  flightModeUsageRate: number;       // ë¹„í–‰ëª¨ë“œ ì‚¬ìš©ë¥ 
  commentParticipationRate: number;  // ëŒ“ê¸€ ì°¸ì—¬ìœ¨
  photoUploadRate: number;           // ì‚¬ì§„ ì—…ë¡œë“œìœ¨
  photoApprovalRate: number;         // ì‚¬ì§„ ìŠ¹ì¸ìœ¨
  
  // ì»¤ë®¤ë‹ˆí‹° í™œë™ ì§€í‘œ
  averageCommentsPerCourse: number;
  averagePhotosPerCourse: number;
  userReturnRate: number;            // ì‚¬ìš©ì ì¬ë°©ë¬¸ìœ¨
  socialSharingRate: number;         // ì†Œì…œ ê³µìœ ìœ¨
}
```

### 9.2 ì½˜í…ì¸  ì„±ê³¼ ì§€í‘œ
```typescript
interface ContentPerformanceMetrics {
  // ì½”ìŠ¤ ì„±ê³¼
  mostPopularCourses: Course[];
  averageCourseRating: number;
  courseCompletionRate: number;      // ì™„ì£¼ìœ¨
  
  // ëŒ“ê¸€ ì„±ê³¼
  commentQualityScore: number;       // ëŒ“ê¸€ í’ˆì§ˆ ì ìˆ˜
  averageCommentLength: number;
  commentModerationRate: number;     // ëŒ“ê¸€ ê²€ìˆ˜ìœ¨
  
  // ì‚¬ì§„ ì„±ê³¼ (v2.3 ì‹ ê·œ)
  photoQualityScore: number;         // ì‚¬ì§„ í’ˆì§ˆ ì ìˆ˜
  averagePhotosPerUser: number;
  photoModerationEfficiency: number; // ì‚¬ì§„ ê²€ìˆ˜ íš¨ìœ¨ì„±
  
  // ì‚¬ìš©ì ìƒì„± ì½˜í…ì¸  (UGC) ì„±ê³¼
  ugcContributionRate: number;       // UGC ê¸°ì—¬ìœ¨
  ugcQualityImprovement: number;     // UGC í’ˆì§ˆ í–¥ìƒë„
}
```

### 9.3 ê¸°ìˆ  ì„±ëŠ¥ ì§€í‘œ
```typescript
interface TechnicalPerformanceMetrics {
  // í˜ì´ì§€ ì„±ëŠ¥
  pageLoadTimes: {
    homePage: number;           // < 1ì´ˆ ëª©í‘œ
    mapPage: number;            // < 3ì´ˆ ëª©í‘œ
    courseDetailPage: number;   // < 2ì´ˆ ëª©í‘œ
    adminPage: number;          // < 2ì´ˆ ëª©í‘œ
  };
  
  // API ì„±ëŠ¥
  apiResponseTimes: {
    courseList: number;         // < 200ms ëª©í‘œ
    courseDetail: number;       // < 300ms ëª©í‘œ
    commentCRUD: number;        // < 400ms ëª©í‘œ
    photoUpload: number;        // < 2ì´ˆ ëª©í‘œ
  };
  
  // ì‚¬ì§„ ê´€ë ¨ ì„±ëŠ¥ (v2.3 ì‹ ê·œ)
  imageOptimization: {
    compressionRatio: number;   // ì••ì¶•ë¥  (ëª©í‘œ: 70%)
    thumbnailGenerationTime: number; // < 1ì´ˆ ëª©í‘œ
    storageEfficiency: number;  // ìŠ¤í† ë¦¬ì§€ íš¨ìœ¨ì„±
  };
  
  // ì‹¤ì‹œê°„ ì„±ëŠ¥
  realtimeLatency: number;      // < 500ms ëª©í‘œ
  subscriptionReliability: number; // > 99% ëª©í‘œ
  
  // ì „ì²´ ì‹œìŠ¤í…œ ì„±ëŠ¥
  uptime: number;               // > 99.9% ëª©í‘œ
  errorRate: number;            // < 0.1% ëª©í‘œ
  concurrentUsers: number;      // ìµœëŒ€ ë™ì‹œ ì ‘ì†ì
}
```

---

## ğŸ¯ 10. ê²°ë¡  ë° ë‹¤ìŒ ë‹¨ê³„

### 10.1 v2.3ì˜ í•µì‹¬ í˜ì‹ 

#### ğŸš€ **ì™„ì „í•œ ì»¤ë®¤ë‹ˆí‹° ìƒíƒœê³„**
1. **ë¹„í–‰ëª¨ë“œ** â†’ ëª°ì…ê° ìˆëŠ” ê²½ë¡œ ì²´í—˜
2. **ì›¨ì´í¬ì¸íŠ¸ ëŒ“ê¸€** â†’ ì§€ì ë³„ ê²½í—˜ ê³µìœ 
3. **ì½”ìŠ¤ë³„ ì‚¬ì§„** â†’ ì‹œê°ì  ì»¤ë®¤ë‹ˆí‹° ì½˜í…ì¸ 
4. **ì‹¤ì‹œê°„ ë™ê¸°í™”** â†’ ì¦‰ì‹œ ë°˜ì˜ë˜ëŠ” ìƒí˜¸ì‘ìš©

#### ğŸ¨ **í†µí•©ëœ ì‚¬ìš©ì ê²½í—˜**
- ì§€ë„ ìœ„ì—ì„œ ğŸ’¬ ëŒ“ê¸€, ğŸ“· ì‚¬ì§„, ğŸ”µ í˜„ì¬ìœ„ì¹˜ë¥¼ ë™ì‹œì— í™•ì¸
- ë¹„í–‰ëª¨ë“œ ì¤‘ ìë™ í•˜ì´ë¼ì´íŠ¸ë¡œ ëŠê¹€ ì—†ëŠ” ì •ë³´ ì œê³µ
- ê´€ë¦¬ìì˜ ì²´ê³„ì ì¸ ì½˜í…ì¸  ê´€ë¦¬ ì‹œìŠ¤í…œ

#### ğŸ”§ **í™•ì¥ ê°€ëŠ¥í•œ ê¸°ìˆ  ì•„í‚¤í…ì²˜**
- JSONB ê¸°ë°˜ ìœ ì—°í•œ ë°ì´í„° êµ¬ì¡°
- Realtime ê¸°ë°˜ ì¦‰ì‹œ ë™ê¸°í™”
- ì´ë¯¸ì§€ ìµœì í™” íŒŒì´í”„ë¼ì¸
- ê³„ì¸µí™”ëœ ìºì‹± ì „ëµ

### 10.2 ê°œë°œ ìš°ì„ ìˆœìœ„

#### ğŸŸ¥ **P0 (í•„ìˆ˜ êµ¬í˜„)**
1. DB ë§ˆì´ê·¸ë ˆì´ì…˜ (courses_v2, comments_v2, photos_v2)
2. ë¹„í–‰ëª¨ë“œ + ëŒ“ê¸€ ì‹œìŠ¤í…œ
3. ì‚¬ì§„ ì—…ë¡œë“œ + ìŠ¹ì¸ ì‹œìŠ¤í…œ
4. ê´€ë¦¬ì í˜ì´ì§€ í†µí•©

#### ğŸŸ¨ **P1 (ì¤‘ìš” êµ¬í˜„)**
1. ì‹¤ì‹œê°„ ë™ê¸°í™” ì‹œìŠ¤í…œ
2. ì´ë¯¸ì§€ ìµœì í™” íŒŒì´í”„ë¼ì¸
3. ì„±ëŠ¥ ìµœì í™” (ë§ˆì»¤ ê°€ìƒí™”, ìºì‹±)
4. ëª¨ë°”ì¼ ë°˜ì‘í˜• ì™„ì„±

#### ğŸŸ© **P2 (í–¥í›„ í™•ì¥)**
1. AI ê¸°ë°˜ ì½”ìŠ¤ ì¶”ì²œ
2. ì™„ì£¼ ì¸ì¦ ì‹œìŠ¤í…œ
3. ëŸ¬ë‹ ë©”ì´íŠ¸ ë§¤ì¹­
4. ë‹¤ì§€ì—­ í™•ì¥

### 10.3 ê¸°ëŒ€ íš¨ê³¼

#### ğŸ“ˆ **ë¹„ì¦ˆë‹ˆìŠ¤ ì„íŒ©íŠ¸**
- **ì‚¬ìš©ì ì°¸ì—¬ë„ 300% ì¦ê°€**: ëŒ“ê¸€ + ì‚¬ì§„ìœ¼ë¡œ ì»¤ë®¤ë‹ˆí‹° í™œì„±í™”
- **ì„¸ì…˜ ì‹œê°„ 200% ì—°ì¥**: ë¹„í–‰ëª¨ë“œë¡œ ëª°ì…ë„ í–¥ìƒ
- **ì½˜í…ì¸  ìƒì„± 500% ì¦ê°€**: UGC ê¸°ë°˜ ìë°œì  ì½˜í…ì¸  ìƒì‚°

#### ğŸš€ **ê¸°ìˆ ì  ìš°ìœ„**
- **ì°¨ë³„í™”ëœ UX**: êµ­ë‚´ ìœ ì¼ì˜ ë¹„í–‰ëª¨ë“œ + ì›¨ì´í¬ì¸íŠ¸ ì‹œìŠ¤í…œ
- **í™•ì¥ì„±**: JSONB + Realtimeìœ¼ë¡œ ë¹ ë¥¸ ê¸°ëŠ¥ ì¶”ê°€
- **ì„±ëŠ¥**: ìµœì í™”ëœ ì´ë¯¸ì§€ ì²˜ë¦¬ + ë§ˆì»¤ ê°€ìƒí™”

#### ğŸŒŸ **ì»¤ë®¤ë‹ˆí‹° ê°€ì¹˜**
- **ê²½í—˜ ê³µìœ **: ì‹¤ì œ ëŸ¬ë„ˆë“¤ì˜ ìƒìƒí•œ ê²½í—˜ ì¶•ì 
- **ì•ˆì „ì„± í–¥ìƒ**: ì‹¤ì‹œê°„ ì •ë³´ë¡œ ì•ˆì „í•œ ëŸ¬ë‹ í™˜ê²½
- **ì§€ì—­ í™œì„±í™”**: ì€í‰êµ¬ ëŸ¬ë‹ ë¬¸í™” í™•ì‚°

---

**GSRC81 Maps v2.3**ëŠ” ë‹¨ìˆœí•œ ì§€ë„ ì„œë¹„ìŠ¤ë¥¼ ë„˜ì–´ì„œ **"ëŸ¬ë„ˆë“¤ì´ í•¨ê»˜ ë§Œë“¤ì–´ê°€ëŠ” ì‚´ì•„ìˆëŠ” ì»¤ë®¤ë‹ˆí‹°"**ê°€ ë©ë‹ˆë‹¤. 

ëª¨ë“  ê¸°ëŠ¥ì´ ìœ ê¸°ì ìœ¼ë¡œ ì—°ê²°ë˜ì–´ **ì™„ì „í•œ ëŸ¬ë‹ ìƒíƒœê³„**ë¥¼ ì œê³µí•˜ë©°, ì´ëŠ” GSRC81 í¬ë£¨ë¿ë§Œ ì•„ë‹ˆë¼ **ì „êµ­ ëŸ¬ë‹ ì»¤ë®¤ë‹ˆí‹°ì˜ ëª¨ë¸**ì´ ë  ê²ƒì…ë‹ˆë‹¤.

---

*ìµœì¢… ì—…ë°ì´íŠ¸: 2025-01-06*  
*ë²„ì „: 2.3 (ìµœì¢… ì™„ì „íŒ)*  
*ì‘ì„±: GSRC81 ê°œë°œíŒ€*